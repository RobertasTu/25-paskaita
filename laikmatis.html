<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laikmatis</title>
</head>
<body>

    <div id="atvaizdavimas"></div>
    <button id="pridetvalanda">+1h</button>
    <button id="pridetminute">+1min</button>
    <button id="pridetsekunde">+1s</button>
    


    <button id="pradeti">Pradeti</button>
    <button id="nusinulink">Nusinulink</button>
    <button id="stop">Stop</button>

    <!-- input -->

    <script>
        "use strict";
        
        //Chronometra
        //Is kompiuterio
        //00:00:00 0000 Start Stop

        var laikmatis = {

            atvaizdavimas: null,
            mygtukasNusinulink: null,
            mygtukasPradeti: null,
            mygtukasStop: null,
            valanda: 0,
            minute: 0,
            sekunde: 0,
            milisekunde: -1,
            paleistas: false,

            mygtukaspridetvalanda: null,
            mygtukaspridetminute: null,
            mygtukaspridetsekunde: null,
            

            paleidimas() {
                //this - kintamasis, objektas
                laikmatis.atvaizdavimas = document.querySelector("#atvaizdavimas"); //objektas
                laikmatis.mygtukasPradeti = document.querySelector("#pradeti");
                laikmatis.mygtukasNusinulink = document.querySelector("#nusinulink");
                laikmatis.mygtukasStop = document.querySelector("#stop");

                laikmatis.mygtukaspridetvalanda = document.querySelector("#pridetvalanda");
                laikmatis.mygtukaspridetminute = document.querySelector("#pridetminute");
                laikmatis.mygtukaspridetsekunde = document.querySelector("#pridetsekunde");

                laikmatis.mygtukasNusinulink.disabled = true;
                laikmatis.mygtukasStop.disabled = true;

                laikmatis.mygtukasNusinulink.addEventListener("click", laikmatis.nusinulink);
                laikmatis.mygtukasPradeti.addEventListener("click", laikmatis.pradeti);
                laikmatis.mygtukasStop.addEventListener("click", laikmatis.stop);

                laikmatis.mygtukaspridetvalanda.addEventListener('click',laikmatis.pridetvalanda);
                laikmatis.mygtukaspridetminute.addEventListener('click',laikmatis.pridetminute);
                laikmatis.mygtukaspridetsekunde.addEventListener('click',laikmatis.pridetsekunde);
                //paleidimo metu tiksek();
                //  setInterval(laikmatis.tiksek, 100); //kuri paleidzia funkcija tam tikru laiko intervalu

            },

            pridetvalanda: function() {
                laikmatis.milisekunde = laikmatis.milisekunde + 35999;
                laikmatis.tiksek();

            },

            pridetminute: function() {
                laikmatis.milisekunde = laikmatis.milisekunde + 599;
                laikmatis.tiksek();

            },

            pridetsekunde: function() {
                laikmatis.milisekunde = laikmatis.milisekunde + 9;
                laikmatis.tiksek();

            },


            pradeti: function() {
              laikmatis.paleistas = setInterval(laikmatis.tiksek, 100); //true reiksme
              laikmatis.mygtukasPradeti.disabled=true; 
              laikmatis.mygtukasNusinulink.disabled = false;
              laikmatis.mygtukasStop.disabled = false;
            },

            nusinulink: function() {
                // padaryti 0 kazkokia reiksme ???
                // 
                laikmatis.milisekunde = -1;
                laikmatis.stop();
                laikmatis.tiksek();
                laikmatis.mygtukasPradeti.disabled=false;
            },

            stop: function() {
                clearInterval(laikmatis.paleistas);
                laikmatis.paleistas = false;
                laikmatis.mygtukasPradeti.disabled=false;
                

            },

            tiksek: function() {
                // 1000 milisekundziu * 3600 = 3600000
                // 120s -> 120s/3600s = 12/360h
                laikmatis.milisekunde++;

                var laikinojiMilisekunde = laikmatis.milisekunde;
                // 1/10 sekundes
                //1h - 3600s
                // 1h - 36000 
                laikmatis.valanda = Math.floor(laikmatis.milisekunde / 36000); //valanda
                laikmatis.minute = Math.floor(laikmatis.milisekunde / 600); // minute
                laikmatis.sekunde = Math.floor(laikmatis.milisekunde / 10); // sekunde

                laikmatis.valanda = laikmatis.valanda % 24;

                if(laikmatis.valanda < 10) {
                    laikmatis.valanda = "0" + laikmatis.valanda;
                }

                laikmatis.minute = laikmatis.minute % 60;

                if(laikmatis.minute < 10) {
                    laikmatis.minute = "0" + laikmatis.minute;
                }

                laikmatis.sekunde = laikmatis.sekunde % 60;
                if(laikmatis.sekunde < 10) {
                    laikmatis.sekunde = "0" + laikmatis.sekunde;
                }

                 laikinojiMilisekunde = laikinojiMilisekunde % 10;

                // if(laikmatis.milisekunde < 10) {
                //     laikmatis.milisekunde = "0" + laikmatis.milisekunde;
                // }

                laikmatis.atvaizdavimas.innerHTML = laikmatis.valanda + ":" + laikmatis.minute + ":" + laikmatis.sekunde + "." + laikinojiMilisekunde;

            }
            
        }

        laikmatis.paleidimas();
        laikmatis.tiksek();

            
</script>
    
</body>
</html>